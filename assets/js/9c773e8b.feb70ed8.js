"use strict";(self.webpackChunkpostman_docs=self.webpackChunkpostman_docs||[]).push([[911],{5491:(e,s,r)=>{r.r(s),r.d(s,{assets:()=>d,contentTitle:()=>c,default:()=>u,frontMatter:()=>l,metadata:()=>n,toc:()=>o});const n=JSON.parse('{"id":"premiere-requete-collections","title":"Premi\xe8re requ\xeate HTTP & Collections","description":"----------------------------------------","source":"@site/docs/04-premiere-requete-collections.md","sourceDirName":".","slug":"/premiere-requete-collections","permalink":"/postman-training/docs/premiere-requete-collections","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/04-premiere-requete-collections.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"title":"Premi\xe8re requ\xeate HTTP & Collections","sidebar\\\\_position":3},"sidebar":"tutorialSidebar","previous":{"title":"Installation, Workspace & UI Deep\u2011Dive","permalink":"/postman-training/docs/installation-workspace"},"next":{"title":"Variables & Secrets Management","permalink":"/postman-training/docs/variables-secrets"}}');var i=r(4848),t=r(8453);const l={title:"Premi\xe8re requ\xeate HTTP & Collections",sidebar_position:3},c=void 0,d={},o=[{value:"3.1\xa0Cr\xe9er une requ\xeate <code>GET</code> \u2013 <em>Pourquoi commencer par GET ?</em>",id:"31cr\xe9er-une-requ\xeate-get--pourquoi-commencer-par-get-",level:2},{value:"D\xe9cryptage de la r\xe9ponse",id:"d\xe9cryptage-de-la-r\xe9ponse",level:3},{value:"Exercice",id:"exercice",level:4},{value:"3.2\xa0Sauvegarder dans une Collection \u2013 <em>Pourquoi persister ?</em>",id:"32sauvegarder-dans-une-collection--pourquoi-persister-",level:2},{value:"3.3\xa0Construire un <code>POST</code> \u2013 <em>Pourquoi POST ?</em>",id:"33construire-un-post--pourquoi-post-",level:2},{value:"Tests\xa0: votre premier filet de s\xe9curit\xe9",id:"tests-votre-premier-filet-de-s\xe9curit\xe9",level:4},{value:"3.4\xa0Scripts Pre\u2011request &amp; Variables \u2013 <em>Pourquoi dynamiques ?</em>",id:"34scripts-prerequest--variables--pourquoi-dynamiques-",level:2},{value:"3.5\xa0\xc9tendre au CRUD complet",id:"35\xe9tendre-au-crud-complet",level:2},{value:"3.6\xa0Visualizer \u2013 <em>Pourquoi pr\xe9senter ?</em>",id:"36visualizer--pourquoi-pr\xe9senter-",level:2},{value:"3.7\xa0Checklist \xe0 cocher dans Postman",id:"37checklist-\xe0-cocher-dans-postman",level:2},{value:"3.8\xa0Bonnes pratiques vs Anti\u2011patterns",id:"38bonnes-pratiques-vs-antipatterns",level:2},{value:"3.9\xa0Pourquoi cette page est capitale",id:"39pourquoi-cette-page-est-capitale",level:2}];function a(e){const s={blockquote:"blockquote",code:"code",em:"em",h2:"h2",h3:"h3",h4:"h4",hr:"hr",input:"input",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(s.h2,{id:"31cr\xe9er-une-requ\xeate-get--pourquoi-commencer-par-get-",children:["3.1\xa0Cr\xe9er une requ\xeate ",(0,i.jsx)(s.code,{children:"GET"})," \u2013 ",(0,i.jsx)(s.em,{children:"Pourquoi commencer par GET ?"})]}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.code,{children:"GET"})," est ",(0,i.jsx)(s.strong,{children:"lecture seule"}),", donc sans effet de bord : parfait pour la d\xe9couverte d\u2019une API."]}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"New \u25b8 HTTP Request"}),"."]}),"\n",(0,i.jsxs)(s.li,{children:["URL\xa0: ",(0,i.jsx)(s.code,{children:"https://postman-echo.com/get?course=postman"}),"."]}),"\n",(0,i.jsxs)(s.li,{children:["V\xe9rifiez que le ",(0,i.jsx)(s.strong,{children:"verbe"})," est ",(0,i.jsx)(s.strong,{children:"GET"}),"."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Send"})," (",(0,i.jsx)(s.code,{children:"Ctrl\xa0+\xa0Enter"}),")."]}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"d\xe9cryptage-de-la-r\xe9ponse",children:"D\xe9cryptage de la r\xe9ponse"}),"\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:"Onglet"}),(0,i.jsx)(s.th,{children:"Ce qu\u2019il affiche"}),(0,i.jsx)(s.th,{children:"Pourquoi c\u2019est utile"}),(0,i.jsx)(s.th,{children:"Tips rapides"})]})}),(0,i.jsxs)(s.tbody,{children:[(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.strong,{children:"Body"})}),(0,i.jsxs)(s.td,{children:["Corps (",(0,i.jsx)(s.code,{children:"JSON"}),", ",(0,i.jsx)(s.code,{children:"HTML"}),", ",(0,i.jsx)(s.code,{children:"XML"}),")"]}),(0,i.jsxs)(s.td,{children:["Voir la ",(0,i.jsx)(s.strong,{children:"charge utile"})," r\xe9elle"]}),(0,i.jsxs)(s.td,{children:[(0,i.jsx)(s.em,{children:"Pretty"})," colore JSON\xa0; ",(0,i.jsx)(s.em,{children:"Preview"})," rend HTML"]})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.strong,{children:"Headers"})}),(0,i.jsx)(s.td,{children:"M\xe9tadonn\xe9es HTTP"}),(0,i.jsx)(s.td,{children:"V\xe9rifier cache, CORS, version de l\u2019API"}),(0,i.jsx)(s.td,{children:"Double\u2011clic pour copier cl\xe9/valeur"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.strong,{children:"Cookies"})}),(0,i.jsx)(s.td,{children:"Cookies Set\u2011Cookie"}),(0,i.jsx)(s.td,{children:"Auth session, trace utilisateur"}),(0,i.jsx)(s.td,{children:"\xc9ditables pour debug front\u2011end"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.strong,{children:"Test\xa0Results"})}),(0,i.jsx)(s.td,{children:"R\xe9sultats JS"}),(0,i.jsxs)(s.td,{children:["Assurance qualit\xe9 ",(0,i.jsx)(s.strong,{children:"d\xe8s maintenant"})]}),(0,i.jsx)(s.td,{children:"Vide tant que pas de tests"})]})]})]}),"\n",(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Pourquoi ajouter un header custom ?"})," Visualiser sur Echo vous montre le trajet complet client\u2192serveur et votre capacit\xe9 \xe0 injecter des infos."]}),"\n"]}),"\n",(0,i.jsx)(s.h4,{id:"exercice",children:"Exercice"}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.code,{children:"X\u2011Training: true"})," \u2192 voyez\u2011le remonter dans ",(0,i.jsx)(s.code,{children:"headers"})," du corps\u202f; vous savez maintenant que votre requ\xeate peut transporter des indicateurs custom."]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsxs)(s.h2,{id:"32sauvegarder-dans-une-collection--pourquoi-persister-",children:["3.2\xa0Sauvegarder dans une Collection \u2013 ",(0,i.jsx)(s.em,{children:"Pourquoi persister ?"})]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsxs)(s.em,{children:["Les requ\xeates en ",(0,i.jsx)(s.strong,{children:"History"})," disparaissent\u202f; les collections, elles, se versionnent et se partagent."]})}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Save \u25b8 Save\xa0as"}),"."]}),"\n",(0,i.jsxs)(s.li,{children:["Nom\u202f:\xa0",(0,i.jsx)(s.code,{children:"GET Echo \u2013 course"}),"."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Create collection"}),"\xa0",(0,i.jsx)(s.code,{children:"Postman\xa0Basics"}),"."]}),"\n",(0,i.jsx)(s.li,{children:"Validez."}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Avantage"})," : la collection agit comme un \xab\xa0projet\xa0\xbb\u202f; vous pourrez l\u2019ex\xe9cuter en lot, la documenter, la versionner Git."]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsxs)(s.h2,{id:"33construire-un-post--pourquoi-post-",children:["3.3\xa0Construire un ",(0,i.jsx)(s.code,{children:"POST"})," \u2013 ",(0,i.jsx)(s.em,{children:"Pourquoi POST ?"})]}),"\n",(0,i.jsxs)(s.p,{children:["Vous envoyez des ",(0,i.jsx)(s.strong,{children:"donn\xe9es"})," c\xf4t\xe9 serveur\u202f: utile pour tester formulaires, endpoints de cr\xe9ation."]}),"\n",(0,i.jsx)(s.p,{children:"Corps JSON\xa0:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-json",children:'{\n  "message": "Hello Postman!"\n}\n'})}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.code,{children:"Content\u2011Type"})," est ajout\xe9 auto \u2192 gain de temps."]}),"\n",(0,i.jsx)(s.h4,{id:"tests-votre-premier-filet-de-s\xe9curit\xe9",children:"Tests\xa0: votre premier filet de s\xe9curit\xe9"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-js",children:'pm.test("Statut 200", () => pm.response.to.have.status(200));\npm.test("Message retourn\xe9", () => {\n  pm.expect(pm.response.json().data.message).to.eql("Hello Postman!");\n});\n'})}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.em,{children:"Pourquoi ?"})," Vous documentez la ",(0,i.jsx)(s.strong,{children:"contrainte m\xe9tier"})," (\xab\xa0le service renvoie la m\xeame cha\xeene\xa0\xbb) et serez alert\xe9 si un dev casse l\u2019API."]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsxs)(s.h2,{id:"34scripts-prerequest--variables--pourquoi-dynamiques-",children:["3.4\xa0Scripts Pre\u2011request & Variables \u2013 ",(0,i.jsx)(s.em,{children:"Pourquoi dynamiques ?"})]}),"\n",(0,i.jsxs)(s.p,{children:["Des ",(0,i.jsx)(s.strong,{children:"ids uniques"})," \xe9vitent conflits (ex. cr\xe9ation d\u2019utilisateur). Exemple\xa0:"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-js",children:'pm.variables.set("uuid", pm.guid());\n'})}),"\n",(0,i.jsxs)(s.p,{children:["Puis dans le corps\xa0: ",(0,i.jsx)(s.code,{children:'"id": "{{uuid}}"'}),"."]}),"\n",(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Tip"}),"\xa0: variable ",(0,i.jsx)(s.strong,{children:"Local"})," (",(0,i.jsx)(s.code,{children:"pm.variables"}),") dure le temps de la requ\xeate\xa0; \xe9vite de polluer l\u2019Environment."]}),"\n"]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h2,{id:"35\xe9tendre-au-crud-complet",children:"3.5\xa0\xc9tendre au CRUD complet"}),"\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:"Verbe"}),(0,i.jsx)(s.th,{children:"Endpoint Echo"}),(0,i.jsx)(s.th,{children:"Objectif p\xe9dagogique"})]})}),(0,i.jsxs)(s.tbody,{children:[(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.strong,{children:"PUT"})}),(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"/put"})}),(0,i.jsx)(s.td,{children:"Comprendre idempotence\xa0: relancer la m\xeame requ\xeate ne cr\xe9e pas de doublons"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.strong,{children:"DELETE"})}),(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"/delete?id={{uuid}}"})}),(0,i.jsx)(s.td,{children:"V\xe9rifier la suppression et la reprise de variable"})]})]})]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-js",children:'// Test idempotence PUT\npm.test("idempotent", () => {\n  pm.expect(pm.response.headers.get("x-forwarded-method")).to.eql("PUT");\n});\n'})}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsxs)(s.h2,{id:"36visualizer--pourquoi-pr\xe9senter-",children:["3.6\xa0Visualizer \u2013 ",(0,i.jsx)(s.em,{children:"Pourquoi pr\xe9senter ?"})]}),"\n",(0,i.jsxs)(s.p,{children:["Le Visualizer transforme la r\xe9ponse en ",(0,i.jsx)(s.strong,{children:"mini\u2011dashboard HTML"}),"\u202f; id\xe9al pour montrer un Proof of Concept \xe0 un Product Owner sans exporter vers Excel."]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-js",children:"pm.visualizer.set(`<h3>R\xe9ponse</h3><pre>{{json}}</pre>`, {\n  json: JSON.stringify(pm.response.json(), null, 2)\n});\n"})}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h2,{id:"37checklist-\xe0-cocher-dans-postman",children:"3.7\xa0Checklist \xe0 cocher dans Postman"}),"\n",(0,i.jsxs)(s.ul,{className:"contains-task-list",children:["\n",(0,i.jsxs)(s.li,{className:"task-list-item",children:[(0,i.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Collection ",(0,i.jsx)(s.strong,{children:"Postman\xa0Basics"})," avec dossier ",(0,i.jsx)(s.em,{children:"Echo"})," (CRUD complet)."]}),"\n",(0,i.jsxs)(s.li,{className:"task-list-item",children:[(0,i.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Tests statut + message + idempotence."]}),"\n",(0,i.jsxs)(s.li,{className:"task-list-item",children:[(0,i.jsx)(s.input,{type:"checkbox",disabled:!0})," ","G\xe9n\xe9ration ",(0,i.jsx)(s.code,{children:"{{uuid}}"})," via Pre\u2011request (Local scope)."]}),"\n",(0,i.jsxs)(s.li,{className:"task-list-item",children:[(0,i.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Visualizer affichant le JSON."]}),"\n",(0,i.jsxs)(s.li,{className:"task-list-item",children:[(0,i.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Descriptions Markdown renseign\xe9es sur chaque requ\xeate."]}),"\n"]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h2,{id:"38bonnes-pratiques-vs-antipatterns",children:"3.8\xa0Bonnes pratiques vs Anti\u2011patterns"}),"\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:"Anti\u2011pattern"}),(0,i.jsx)(s.th,{children:"Pourquoi c\u2019est un pi\xe8ge"}),(0,i.jsx)(s.th,{children:"Correction"})]})}),(0,i.jsxs)(s.tbody,{children:[(0,i.jsxs)(s.tr,{children:[(0,i.jsxs)(s.td,{children:["Secrets (",(0,i.jsx)(s.em,{children:"token"}),") stock\xe9s en Globals"]}),(0,i.jsx)(s.td,{children:"Fuite si export/partage"}),(0,i.jsxs)(s.td,{children:["Variables d\u2019",(0,i.jsx)(s.strong,{children:"Environment"})," (Cryptage plan Pro)"]})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"Untitled Request"})}),(0,i.jsx)(s.td,{children:"Incompr\xe9hensible en CI"}),(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"VERB Resource \u2013 intent"})})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"Tests fourre\u2011tout"}),(0,i.jsx)(s.td,{children:"Dur \xe0 d\xe9boguer"}),(0,i.jsx)(s.td,{children:"1 assertion = 1 test"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"Pas de description"}),(0,i.jsx)(s.td,{children:"Aucun contexte pour un coll\xe8gue"}),(0,i.jsxs)(s.td,{children:["Markdown dans ",(0,i.jsx)(s.strong,{children:"Description"})]})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsxs)(s.td,{children:["Variables dans l\u2019URL ",(0,i.jsx)(s.em,{children:"hardcod\xe9es"})," (",(0,i.jsx)(s.code,{children:"/user/123"}),")"]}),(0,i.jsx)(s.td,{children:"Pas r\xe9utilisable"}),(0,i.jsxs)(s.td,{children:[(0,i.jsx)(s.code,{children:"{{userId}}"})," via Runner CSV"]})]})]})]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h2,{id:"39pourquoi-cette-page-est-capitale",children:"3.9\xa0Pourquoi cette page est capitale"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["Vous venez de ",(0,i.jsx)(s.strong,{children:"fiabiliser"})," vos appels (tests) plut\xf4t que de cliquer sans filet."]}),"\n",(0,i.jsxs)(s.li,{children:["Les collections deviennent vos ",(0,i.jsx)(s.strong,{children:"sp\xe9cifications vivantes"}),"\xa0: un dev back les ex\xe9cute, un QA les v\xe9rifie, un PO les lit."]}),"\n",(0,i.jsx)(s.li,{children:"La rigueur prise ici (naming, scope variable) vous \xe9vitera des heures de debug quand les appels seront des centaines."}),"\n"]}),"\n",(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsxs)(s.p,{children:["\ud83d\udc49 ",(0,i.jsx)(s.strong,{children:"Page suivante\xa0:"})," Variables & Secrets Management \u2013 ma\xeetriser les scopes (Global, Environment, Collection, Local) et s\xe9curiser tokens/API\u2011keys."]}),"\n"]})]})}function u(e={}){const{wrapper:s}={...(0,t.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}},8453:(e,s,r)=>{r.d(s,{R:()=>l,x:()=>c});var n=r(6540);const i={},t=n.createContext(i);function l(e){const s=n.useContext(t);return n.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function c(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),n.createElement(t.Provider,{value:s},e.children)}}}]);