"use strict";(self.webpackChunkpostman_docs=self.webpackChunkpostman_docs||[]).push([[393],{7898:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>u,frontMatter:()=>i,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"newman-avance","title":"Ex\xe9cution automatis\xe9e avec Newman (avanc\xe9)","description":"Pourquoi ce chapitre ? Parce que Newman devient un outil critique d\xe8s que vous passez de l\u2019exploration manuelle \xe0 l\u2019automatisation en CI/CD. Ce chapitre approfondit les options les moins connues et les patterns efficaces.","source":"@site/docs/013-newman-avance.md","sourceDirName":".","slug":"/newman-avance","permalink":"/postman-training/docs/newman-avance","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/013-newman-avance.md","tags":[],"version":"current","sidebarPosition":12,"frontMatter":{"title":"Ex\xe9cution automatis\xe9e avec Newman (avanc\xe9)","sidebar_position":12},"sidebar":"tutorialSidebar","previous":{"title":"Industrialisation & Governance","permalink":"/postman-training/docs/industrial-governance"}}');var a=t(4848),r=t(8453);const i={title:"Ex\xe9cution automatis\xe9e avec Newman (avanc\xe9)",sidebar_position:12},o="12. Ex\xe9cution automatis\xe9e avec Newman (avanc\xe9) \u2699\ufe0f\ud83e\uddea",l={},c=[{value:"12.1 Installation &amp; rappel rapide",id:"121-installation--rappel-rapide",level:2},{value:"12.2 Param\xe9trage complet de la ligne de commande",id:"122-param\xe9trage-complet-de-la-ligne-de-commande",level:2},{value:"Options utiles :",id:"options-utiles-",level:3},{value:"12.3 Int\xe9gration dans GitHub Actions",id:"123-int\xe9gration-dans-github-actions",level:2},{value:"12.4 Patterns robustes : retry, hooks, DRY",id:"124-patterns-robustes--retry-hooks-dry",level:2},{value:"12.6 Astuces de productivit\xe9",id:"126-astuces-de-productivit\xe9",level:2},{value:"12.7 Check-list Newman compl\xe8te \u2705",id:"127-check-list-newman-compl\xe8te-",level:2}];function d(e){const n={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,r.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"12-ex\xe9cution-automatis\xe9e-avec-newman-avanc\xe9-\ufe0f",children:"12. Ex\xe9cution automatis\xe9e avec Newman (avanc\xe9) \u2699\ufe0f\ud83e\uddea"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsxs)(n.p,{children:["Pourquoi ce chapitre ? Parce que ",(0,a.jsx)(n.strong,{children:"Newman devient un outil critique"})," d\xe8s que vous passez de l\u2019exploration manuelle \xe0 l\u2019automatisation en CI/CD. Ce chapitre approfondit les options les moins connues et les patterns efficaces."]}),"\n"]}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"121-installation--rappel-rapide",children:"12.1 Installation & rappel rapide"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"npm install -g newman newman-reporter-htmlextra\n"})}),"\n",(0,a.jsx)(n.p,{children:"Check rapide :"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"newman run collection.json -e staging.json -r cli,htmlextra\n"})}),"\n",(0,a.jsx)(n.h2,{id:"122-param\xe9trage-complet-de-la-ligne-de-commande",children:"12.2 Param\xe9trage complet de la ligne de commande"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"newman run collection.json \\\n  -e env/staging.json \\\n  -d data/users.csv \\\n  --iteration-count 500 \\\n  --delay-request 200 \\\n  --bail \\\n  --timeout 60000 \\\n  --reporters cli,htmlextra,junit,json \\\n  --reporter-htmlextra-export reports/report.html \\\n  --reporter-junit-export reports/report.xml\n"})}),"\n",(0,a.jsx)(n.h3,{id:"options-utiles-",children:"Options utiles :"}),"\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"Option"}),(0,a.jsx)(n.th,{children:"Utilit\xe9 terrain"})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"--bail"})}),(0,a.jsx)(n.td,{children:"Arr\xeate au 1er \xe9chec critique"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"--timeout"})}),(0,a.jsx)(n.td,{children:"Gestion r\xe9seau instable"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"--delay-request"})}),(0,a.jsx)(n.td,{children:"Evite les 429"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"--env-var key=value"})}),(0,a.jsx)(n.td,{children:"Override dynamique"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"--export-environment"})}),(0,a.jsx)(n.td,{children:"Snapshot d\u2019environnement en sortie"})]})]})]}),"\n",(0,a.jsx)(n.h2,{id:"123-int\xe9gration-dans-github-actions",children:"12.3 Int\xe9gration dans GitHub Actions"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",children:"name: API Tests Newman\n\non:\n  push:\n    branches: [main]\n\njobs:\n  test:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v4\n      - run: npm install -g newman newman-reporter-htmlextra\n      - run: newman run collection.json -e env/staging.json -r cli,htmlextra\n      - uses: actions/upload-artifact@v4\n        with:\n          name: report-html\n          path: reports/report.html\n\n"})}),"\n",(0,a.jsx)(n.h2,{id:"124-patterns-robustes--retry-hooks-dry",children:"12.4 Patterns robustes : retry, hooks, DRY"}),"\n",(0,a.jsx)(n.p,{children:"Ajoutez ce bloc en Post-request pour cr\xe9er un log synth\xe9tique :"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"console.log(`TEST ${pm.request.name} \u2192 ${pm.response.code} (${pm.response.responseTime}ms)`);\n"})}),"\n",(0,a.jsx)(n.p,{children:"Avec le reporter json, vous pouvez agr\xe9ger ces infos dans un tableau Excel."}),"\n",(0,a.jsx)(n.h2,{id:"126-astuces-de-productivit\xe9",children:"12.6 Astuces de productivit\xe9"}),"\n",(0,a.jsx)(n.p,{children:'newman run col.json --folder "Login" \u2192 n\u2019ex\xe9cute qu\u2019un sous-ensemble.'}),"\n",(0,a.jsx)(n.p,{children:"--global-var timestamp=$(date +%s) \u2192 horodatage sans polluer l\u2019environnement."}),"\n",(0,a.jsx)(n.p,{children:"--insecure si vous testez une API HTTP/SSL auto-sign\xe9e."}),"\n",(0,a.jsx)(n.p,{children:"--disable-unicode si logs bizarres dans GitLab."}),"\n",(0,a.jsx)(n.h2,{id:"127-check-list-newman-compl\xe8te-",children:"12.7 Check-list Newman compl\xe8te \u2705"}),"\n",(0,a.jsx)(n.p,{children:"Utilisation du bon reporter selon contexte (htmlextra, junit, json)."}),"\n",(0,a.jsx)(n.p,{children:"Int\xe9gration CI valid\xe9e (GitHub Actions, GitLab, Jenkins\u2026)."}),"\n",(0,a.jsx)(n.p,{children:"Gestion des secrets via --env-var ou Vault."}),"\n",(0,a.jsx)(n.p,{children:"Tests robustes aux erreurs serveur (retry, bail)."}),"\n",(0,a.jsx)(n.p,{children:"Rapport HTML archiv\xe9 pour lecture post-mortem."}),"\n",(0,a.jsx)(n.p,{children:"Ex\xe9cution parall\xe8le document\xe9e si besoin de load-test."}),"\n",(0,a.jsx)(n.p,{children:"\ud83d\udc49 Retour au sommaire : Vous pouvez maintenant industrialiser vos tests Postman \xe0 grande \xe9chelle."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",children:"\n---\n\n## \ud83e\ude84 3. \xc0 faire ensuite\n\n- **Ajoute cette page dans le sommaire `intro.md`** :\n```markdown\n| Ex\xe9cution avanc\xe9e avec Newman | [/docs/newman-avance](/docs/newman-avance) | Param\xe9trer et industrialiser les runs CLI |\n"})}),"\n",(0,a.jsx)(n.p,{children:"Lien crois\xe9 \xe0 placer dans :"}),"\n",(0,a.jsx)(n.p,{children:"08-data-driven-contract.md > section 7.4 : \ud83d\udc49 Voir aussi /docs/newman-avance pour aller plus loin."}),"\n",(0,a.jsx)(n.p,{children:"11-industrial-governance.md > apr\xe8s le bloc CI."}),"\n",(0,a.jsx)(n.p,{children:"(Optionnel) : cr\xe9er un mini script de d\xe9mo Newman local (newman-demo.sh) dans ton repo pour les coll\xe8gues."})]})}function u(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>i,x:()=>o});var s=t(6540);const a={},r=s.createContext(a);function i(e){const n=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:i(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);